<!DOCTYPE html>
<html>
<head>
<script src="../node_server/js/jquery-1.11.1.min.js"></script>

<meta charset=utf-8 />

    <title>Detach Test</title>
<style>
    body {
        font-family: sans-serif;
    }
    #container div {
        float: left;
        width: 22.95%;
        border: 1px solid black;
        margin: -1px;
        padding: 1%;
    }
    
    #a { background-color:green; opacity:0.8;};
    #b { background-color:pink; opacity:0.8;};
    #c { background-color:orange; opacity:0.8;};
    #d { background-color:lightblue; opacity:0.8;};
    
</style>
    
</head>
<body>
    
    <div>This shows how to animate removing all children of a div,
    then adding them back in, in a particular order. It works for less than 10
    different divs.</div>
    
  <div id="container">
    <div id="a" class="item">d1</div>
    
    <div id="b" class="item">d2</div>
    
    <div id="c" class="item">d3</div>
    
    <div id="d" class="item">d4</div>
    
  </div>
    
<script>
    
    var order = '0213'; // the order as a string
    //console.log(order[1]);
    
    $(function() 
    {
        var container = $("#container");
        
        // set reorder to happen in 2 seconds
        setTimeout(reorder, 2000);
        
        function reorder()
        {
            //var items = container.children('.item');
            var items = $('#container .item');
            
            var itemIndex = items.length;
            //console.log(items);
            
            while(itemIndex--)
            {
                if (itemIndex == 0)
                {
                    $(items[itemIndex]).hide('slow', function() {
                        items.detach();
                        var i = order.length;
                        while(i--)
                        {   
                            var current = order[i];
                            $(items[current]).appendTo(container).show('slow');
                        }
                    });
                }
                else
                {
                    //console.log(items[itemIndex]);
                    $(items[itemIndex]).hide('slow');
                }
            }       
        }
    });
    
</script>
</body>
</html>